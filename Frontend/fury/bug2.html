<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Report a New Bug</title>
    <link rel="stylesheet" href="new.css">
</head>
<body>
    <div class="container">
        <h1>Report a New Bug</h1>
        <form id="bug-report-form">
            <div class="form-group">
                <label for="project">Project:</label>
                <select id="project" name="project" required>
                    <option value="project1">Project 1 (Completed)</option>
                    <option value="project2">Project 2 (In Progress)</option>
                </select>
            </div>
            <div class="form-group">
                <label for="title">Title:</label>
                <input type="text" id="title" name="title" required>
            </div>
            <div class="form-group">
                <label for="description">Description:</label>
                <textarea id="description" name="description" rows="4" required></textarea>
            </div>
            <div class="form-group">
                <label for="severity">Severity Level:</label>
                <select id="severity" name="severity" required>
                    <option value="low">Low</option>
                    <option value="medium">Medium</option>
                    <option value="high">High</option>
                </select>
            </div>
            <a href="submitbug.html">
    <button>Submit Bug</button>
  </a> 
        </form>
    </div>

    <script>
        document.addEventListener("DOMContentLoaded", function () {
            const bugReportForm = document.getElementById("bug-report-form");

            bugReportForm.addEventListener("submit", function (e) {
                e.preventDefault();

                
                const currentUser = "Tester123"; 

                
                const projectStatus = document.getElementById("project").value;

                if (projectStatus.includes("(In Progress)")) {
                    const bugId = generateUniqueId(); 
                    const createdOn = new Date().toLocaleString(); 

                    
                    const bugReportData = {
                        project: document.getElementById("project").value,
                        title: document.getElementById("title").value,
                        description: document.getElementById("description").value,
                        severity: document.getElementById("severity").value,
                        createdBy: currentUser,
                        createdOn: createdOn,
                        bugId: bugId,
                    };

                    
                    console.log("Bug Report Data:", bugReportData);

                    
                    alert("Bug report submitted successfully!");
                } else {
                    alert("You can only report bugs for projects with status 'In Progress'.");
                }
            });

            
            function generateUniqueId() {
                return "BUG-" + Math.floor(Math.random() * 10000);
            }
        });
    </script> 
</body>
</html>
